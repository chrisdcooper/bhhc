{"remainingRequest":"C:\\src\\vue\\bhhc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\src\\vue\\bhhc\\src\\components\\Phone.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\src\\vue\\bhhc\\src\\components\\Phone.vue","mtime":1576768066387},{"path":"C:\\src\\vue\\bhhc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\src\\vue\\bhhc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\src\\vue\\bhhc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\src\\vue\\bhhc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpdXJsIGZyb20gJy4uL2NvbmZpZy9wcm9kdWN0aW9uJzsNCnZhciBhcGl2YWwgPSBhcGl1cmwoKTsNCnZhciBidW55YW4gPSByZXF1aXJlKCdidW55YW4nKTsNCnZhciBsb2cgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHtuYW1lOiAiRW5saXN0X0FwcF9QaG9uZVZ1ZSJ9KTsNCmltcG9ydCB7YnVzfSBmcm9tICcuLi9tYWluJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnUGhvbmUnLCAgDQogIGNvbXBvbmVudHM6IHsgDQogIH0sDQogIHByb3BzOiB7IA0KICAgICAgZW50aXR5aWQ6U3RyaW5nLA0KICAgICAgbG1zaWQ6U3RyaW5nLA0KICAgICAgdHlwZWlkOk51bWJlciwNCiAgICAgIHB0eXBlb2Y6U3RyaW5nLA0KICAgICAgcGhvbmV0eXBlbGJsOlN0cmluZywNCiAgICAgIHBob25lbnVtYmVyOlN0cmluZywNCiAgICAgIHBob25lYXJlYWNvZGVpZDpTdHJpbmcsDQogICAgICBwaG9uZXByZWZpeGlkOlN0cmluZywNCiAgICAgIHBob25lc3VmZml4aWQ6U3RyaW5nLA0KICAgICAgbWFrZVRvYXN0OkZ1bmN0aW9uLA0KICAgICAgcnVudXBkYXRlOkJvb2xlYW4sDQogICAgICBkZWZhdWx0cGhvbmU6U3RyaW5nLA0KICAgICAgZnQ6Qm9vbGVhbiwNCiAgICAgIGRpcmVjdGxvYWQ6Qm9vbGVhbiwNCiAgICAgIGNvbnRhaW5zU3BlY2lhbENoYXJhY3RlcnM6RnVuY3Rpb24sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBob25lbnVtYmVycHJvcHZhbDonJywNCiAgICAgIHBob25lYXJlYWNvZGVwcm9wdmFsOicnLA0KICAgICAgcGhvbmVwcmVmaXhwcm9wdmFsOicnLA0KICAgICAgcGhvbmVzdWZmaXhwcm9wdmFsOicnLA0KICAgICAgcnVudXBkYXRlcHJvcHZhbDp0cnVlLA0KICAgICAgaXNsb2FkZWQ6ZmFsc2UNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkOmZ1bmN0aW9uKCl7ICAgIA0KICAgIGJ1cy4kb24oJ3NldHBob25lJywgdGhpcy5zZXRwaG9uZSk7DQogICAgYnVzLiRvbignc2V0cGhvbmVzJywgdGhpcy5zZXRwaG9uZXMpOw0KICAgIGJ1cy4kb24oJ3N1Ym1pdHNhdmUnLCB0aGlzLnN1Ym1pdCk7DQogIH0sICANCiAgY29tcHV0ZWQ6IHsNCiAgICBwaG9uZXN0YXRlOiAgZnVuY3Rpb24oKSB7ICAgICANCiAgICAgIHZhciBpc0VtcHR5ID0gICh0aGlzLnBob25lYXJlYWNvZGVwcm9wdmFsLmxlbmd0aCA9PSAwICYmIHRoaXMucGhvbmVwcmVmaXhwcm9wLmxlbmd0aCA9PSAwICYmIHRoaXMucGhvbmVzdWZmaXhwcm9wLmxlbmd0aCA9PSAwKTsNCiAgICAgIHZhciBjaGtzdGF0ZSA9IGlzRW1wdHkgfHwNCiAgICAgICAgKHRoaXMucGhvbmVhcmVhY29kZXByb3B2YWwubGVuZ3RoID09IDMgJiYgdGhpcy5waG9uZXByZWZpeHByb3AubGVuZ3RoID09IDMgJiYgdGhpcy5waG9uZXN1ZmZpeHByb3AubGVuZ3RoID09IDQpOw0KICAgICAgaWYoY2hrc3RhdGUgJiYgISBpc0VtcHR5KSB7DQogICAgICAgIGNoa3N0YXRlID0gIWlzTmFOKHRoaXMucGhvbmVhcmVhY29kZXByb3B2YWwpICYmICFpc05hTih0aGlzLnBob25lcHJlZml4cHJvcCkgJiYgIWlzTmFOKHRoaXMucGhvbmVzdWZmaXhwcm9wKTsgICAgICAgIA0KICAgICAgfQ0KICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRhaW5zU3BlY2lhbENoYXJhY3RlcnMgPT09ICJmdW5jdGlvbiIpIHsgDQogICAgICAgIGlmKGNoa3N0YXRlKSB7DQogICAgICAgICAgY2hrc3RhdGUgPSAhdGhpcy5jb250YWluc1NwZWNpYWxDaGFyYWN0ZXJzKHRoaXMucGhvbmVhcmVhY29kZXByb3B2YWwpOw0KICAgICAgICB9DQogICAgICAgIGlmKGNoa3N0YXRlKSB7DQogICAgICAgICAgY2hrc3RhdGUgPSAhdGhpcy5jb250YWluc1NwZWNpYWxDaGFyYWN0ZXJzKHRoaXMucGhvbmVwcmVmaXhwcm9wKTsNCiAgICAgICAgfQ0KICAgICAgICBpZihjaGtzdGF0ZSkgew0KICAgICAgICAgIGNoa3N0YXRlID0gIXRoaXMuY29udGFpbnNTcGVjaWFsQ2hhcmFjdGVycyh0aGlzLnBob25lc3VmZml4cHJvcCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBjaGtzdGF0ZTsgICAgIA0KICAgIH0sDQogICAgcGhvbmVhcmVhY29kZXByb3A6ICB7ICAgICAgDQogICAgICBnZXQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgc2VsZiA9IHRoaXM7DQogICAgICAgIGlmKCFzZWxmLmlzbG9hZGVkKXsNCiAgICAgICAgICAgIHNlbGYucGhvbmVhcmVhY29kZXByb3B2YWwgPSB0aGlzLnBob25lbnVtYmVyYXJlYWNvZGVjb21wOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBzZWxmLnBob25lYXJlYWNvZGVwcm9wdmFsLnRyaW0oKTsNCiAgICAgIH0sDQogICAgICBzZXQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMucGhvbmVhcmVhY29kZXByb3B2YWwgPSBuZXdWYWx1ZTsNCiAgICAgIH0gICAgICANCiAgICB9LA0KICAgIHBob25lcHJlZml4cHJvcDogIHsgICAgICANCiAgICAgIGdldDogZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBzZWxmID0gdGhpczsNCiAgICAgICAgaWYoIXNlbGYuaXNsb2FkZWQpew0KICAgICAgICAgICAgc2VsZi5waG9uZXByZWZpeHByb3B2YWwgPSB0aGlzLnBob25lbnVtYmVycHJlZml4Y29tcDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc2VsZi5waG9uZXByZWZpeHByb3B2YWwudHJpbSgpOw0KICAgICAgfSwNCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsNCiAgICAgICAgdGhpcy5waG9uZXByZWZpeHByb3B2YWwgPSBuZXdWYWx1ZTsNCiAgICAgIH0gICAgICANCiAgICB9LA0KICAgIHBob25lc3VmZml4cHJvcDogIHsgICAgICANCiAgICAgIGdldDogZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBzZWxmID0gdGhpczsNCiAgICAgICAgaWYoIXNlbGYuaXNsb2FkZWQpew0KICAgICAgICAgICAgc2VsZi5waG9uZXN1ZmZpeHByb3B2YWwgPSB0aGlzLnBob25lbnVtYmVyc3VmZml4Y29tcDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc2VsZi5waG9uZXN1ZmZpeHByb3B2YWwudHJpbSgpOw0KICAgICAgfSwNCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsNCiAgICAgICAgdGhpcy5waG9uZXN1ZmZpeHByb3B2YWwgPSBuZXdWYWx1ZTsNCiAgICAgIH0gICAgICANCiAgICB9LCAgDQogICAgcGhvbmVudW1iZXJwcm9wOiAgeyAgICAgIA0KICAgICAgZ2V0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgLy9pZih0aGlzLmRpcmVjdGxvYWQpew0KICAgICAgICAgIC8vaWYodGhpcy5waG9uZW51bWJlcikgew0KICAgICAgICAgIC8vdGhpcy5waG9uZW51bWJlcnByb3B2YWwgPSB0aGlzLnBob25lbnVtYmVyOw0KICAgICAgICAgIC8vfQ0KICAgICAgICAvL30NCiAgICAgICAgcmV0dXJuIHRoaXMucGhvbmVudW1iZXJwcm9wdmFsOw0KICAgICAgfSwNCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsNCiAgICAgICAgdGhpcy5waG9uZW51bWJlcnByb3B2YWwgPSBuZXdWYWx1ZTsNCiAgICAgIH0gICAgICANCiAgICB9LCAgICANCiAgICBwaG9uZW51bWJlcmFyZWFjb2RlY29tcDogZnVuY3Rpb24oKXsNCiAgICAgICAgaWYodGhpcy5waG9uZW51bWJlcnByb3Apew0KICAgICAgICAgIGlmKHRoaXMucGhvbmVudW1iZXJwcm9wLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHZhciBzcGx0QXJyeSA9IHRoaXMucGhvbmVudW1iZXJwcm9wLnNwbGl0KCIvIik7DQogICAgICAgICAgICBpZihzcGx0QXJyeS5sZW5ndGggPiAwKXsNCiAgICAgICAgICAgICAgcmV0dXJuIHNwbHRBcnJ5WzBdLnRvU3RyaW5nKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSAgDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0sDQogICAgcGhvbmVudW1iZXJwcmVmaXhjb21wOiBmdW5jdGlvbigpew0KICAgICAgICBpZih0aGlzLnBob25lbnVtYmVycHJvcCl7DQogICAgICAgICAgaWYodGhpcy5waG9uZW51bWJlcnByb3AubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdmFyIHNwbHRBcnJ5ID0gdGhpcy5waG9uZW51bWJlcnByb3Auc3BsaXQoIi8iKTsNCiAgICAgICAgICAgIGlmKHNwbHRBcnJ5Lmxlbmd0aCA+IDEpew0KICAgICAgICAgICAgICB2YXIgY2hrQXJyeSA9IHNwbHRBcnJ5WzFdLnNwbGl0KCItIik7DQogICAgICAgICAgICAgICBpZihzcGx0QXJyeS5sZW5ndGggPiAwKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gY2hrQXJyeVswXS50b1N0cmluZygpOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gIA0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9LA0KICAgIHBob25lbnVtYmVyc3VmZml4Y29tcDogZnVuY3Rpb24oKXsNCiAgICAgIGlmKHRoaXMucGhvbmVudW1iZXJwcm9wKXsNCiAgICAgICAgaWYodGhpcy5waG9uZW51bWJlcnByb3AubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHZhciBzcGx0QXJyeSA9IHRoaXMucGhvbmVudW1iZXJwcm9wLnNwbGl0KCIvIik7DQogICAgICAgICAgaWYoc3BsdEFycnkubGVuZ3RoID4gMSl7DQogICAgICAgICAgICB2YXIgY2hrQXJyeSA9IHNwbHRBcnJ5WzFdLnNwbGl0KCItIik7DQogICAgICAgICAgICAgIGlmKHNwbHRBcnJ5Lmxlbmd0aCA+IDEpew0KICAgICAgICAgICAgICByZXR1cm4gY2hrQXJyeVsxXS50b1N0cmluZygpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9ICANCiAgICAgIH0NCiAgICAgIHJldHVybiAnJzsNCiAgICB9LA0KICAgIHJ1bnVwZGF0ZXByb3A6IHsgICAgICANCiAgICAgIGdldDogZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBzZWxmID0gdGhpczsNCiAgICAgICAgc2VsZi5ydW51cGRhdGVwcm9wdmFsID0gdGhpcy5ydW51cGRhdGU7ICAgDQogICAgICAgIHJldHVybiBzZWxmLnJ1bnVwZGF0ZXByb3B2YWw7DQogICAgICB9LA0KICAgICAgc2V0OiBmdW5jdGlvbihuZXdWYWx1ZSkgew0KICAgICAgICB0aGlzLnJ1bnVwZGF0ZXByb3B2YWwgPSBuZXdWYWx1ZTsNCiAgICAgIH0gICAgICANCiAgICB9LA0KICB9LA0KICBtZXRob2RzOnsNCiAgICBzZXRwaG9uZTogZnVuY3Rpb24ocGhvbmVudW1iLCBwdHlwZSl7DQogICAgICB2YXIgc2VsZiA9IHRoaXM7DQogICAgICBpZihzZWxmLnB0eXBlb2YgPT0gcHR5cGUpew0KICAgICAgICBzZWxmLmlzbG9hZGVkID0gZmFsc2U7DQogICAgICAgIHNlbGYucGhvbmVudW1iZXJwcm9wID0gcGhvbmVudW1iOyAgICAgICAgDQogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgIA0KICAgICAgICAgICAgc2VsZi5pc2xvYWRlZCA9IHRydWU7DQogICAgICAgICAgfSwgMTUwMCk7ICAgDQogICAgICB9DQogICAgfSwNCiAgICBzZXRwaG9uZXM6IGZ1bmN0aW9uKHBob25lbnVtYnMpew0KICAgICAgdmFyIHNlbGYgPSB0aGlzOw0KICAgICAgc2VsZi5pc2xvYWRlZCA9IGZhbHNlOw0KICAgICAgcGhvbmVudW1icy5mb3JFYWNoKHBudW0gPT4gew0KICAgICAgICBpZihwbnVtLlBIT05FX1RZUEUudHJpbSgpID09IHNlbGYucHR5cGVvZikgew0KICAgICAgICAgIHNlbGYucGhvbmVudW1iZXJwcm9wID0gcG51bS5QSE9ORS50cmltKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgDQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ICANCiAgICAgICAgICBzZWxmLmlzbG9hZGVkID0gdHJ1ZTsNCiAgICAgICAgfSwgMTUwMCk7ICAgDQogICAgfSwNCiAgICBzdWJtaXQ6IGZ1bmN0aW9uKCl7ICAgDQogICAgICBpZih0aGlzLnJ1bnVwZGF0ZXByb3AgPT0gdHJ1ZSl7DQogICAgICAgIHZhciBzZWxmID0gdGhpczsgIA0KICAgICAgICAgaWYoc2VsZi5waG9uZXN0YXRlKSB7IA0KICAgICAgICAgICAgdmFyIHBobiA9IHNlbGYucGhvbmVhcmVhY29kZXByb3AgKyAnLycgKyBzZWxmLnBob25lcHJlZml4cHJvcCArICctJyArIHNlbGYucGhvbmVzdWZmaXhwcm9wOw0KICAgICAgICAgICAgaWYocGhuLmxlbmd0aCA9PSAxMikgew0KICAgICAgICAgICAgICB2YXIganNvbnZhbHMgPSBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgJ2xtc2lkJzpzZWxmLmxtc2lkLCAgICAgDQogICAgICAgICAgICAgICAgICAndHlwZW9mcGhvbmUnOnNlbGYucHR5cGVvZiwNCiAgICAgICAgICAgICAgICAgICdwaG9uZW51bWJlcic6cGhuLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIGZldGNoKGFwaXZhbCsnZW5saXN0YXBpL3VwZGF0ZXBob25lZGF0YScsIHsNCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1Bvc3QnLA0KICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJywNCiAgICAgICAgICAgICAgICAgIGJvZHk6anNvbnZhbHMsDQogICAgICAgICAgICAgICAgICBoZWFkZXJzOnsNCiAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihqc29ucmV0KSB7ICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHZhciByZXN1ID0ganNvbnJldC5kYXRhOw0KICAgICAgICAgICAgICAgIGlmKHJlc3UgPT0gJ1NVQ0NFU1MnKXsNCiAgICAgICAgICAgICAgICAgIHNlbGYucnVudXBkYXRlcHJvcCA9IGZhbHNlOyAgICAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHsNCiAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcignZW5saXN0YXBpL3VwZGF0ZXBob25lZGF0YScrZXJyKTsgDQogICAgICAgICAgICAgIH0pOyAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgDQogICAgICAgICAgdGhpcy5tYWtlVG9hc3QodGhpcy5jYW1lbGl6ZSh0aGlzLnR5cGVvZmVtYWlsKSArICcgUGhvbmUnLCAnUGxlYXNlIGNvcnJlY3QgYW55IGVycm9ycyBpZGVudGlmaWVkIG9uICcrIHRoaXMudHlwZW9mcGhvbmUgKyAnIHBob25lIHRvIHNhdmUgdGhlIGRhdGEuJywgImRhbmdlciIpOw0KICAgICAgICAvL3NlbGYuJGJ2TW9kYWwuc2hvdygiYnYtbW9kYWwtcGhvbmUtZXJyb3IiK3NlbGYudHlwZWlkKTsNCiAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Phone.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Phone.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n    <div style=\"width:100%\">\r\n      <label class=\"lbldetail phoneboxseperator\">{{phonetypelbl}}:</label>\r\n    </div> \r\n    <div style=\"width:100%;float:left\">\r\n      <span class=\"phoneboxseperator\">(</span>\r\n      <b-form-input\r\n        :id=\"phoneareacodeid\"\r\n        v-model=\"phoneareacodeprop\"\r\n        :ref=\"phoneareacodeid\"\r\n        class=\"phoneboxsmall\"\r\n        trim\r\n        maxlength=\"3\"\r\n        size=\"sm\" \r\n        :state=\"phonestate\"\r\n    ></b-form-input>        \r\n    <span class=\"phoneboxseperator\">)&nbsp;</span>\r\n    <b-form-input\r\n        :id=\"phoneprefixid\"\r\n        v-model=\"phoneprefixprop\"\r\n        :ref=\"phoneprefixid\"\r\n        class=\"phoneboxsmall\"\r\n        trim\r\n        maxlength=\"3\"\r\n        size=\"sm\" \r\n        :state=\"phonestate\"\r\n    ></b-form-input>        \r\n    <span class=\"phoneboxseperator\">&nbsp;-&nbsp;</span>\r\n    <b-form-input\r\n        :id=\"phonesuffixid\"\r\n        v-model=\"phonesuffixprop\"\r\n        :ref=\"phonesuffixid\"\r\n        class=\"phoneboxlarge\"\r\n        trim\r\n        maxlength=\"4\"\r\n        size=\"sm\" \r\n        :state=\"phonestate\"\r\n    ></b-form-input> \r\n    <p v-if=\"!phonestate\" class=\"error-message\">Please enter a valid phone number</p>\r\n    </div>  \r\n\r\n      <b-modal :id=\"'bv-modal-phone-error'+typeid\" title=\"Please Correct Phone\" class=\"bv-modal-phone-error\" size=\"sm\">\r\n        <div class=\"row\"> \r\n          <div class=\"col\"> \r\n            <span>Please correct any errors identified on phone number to update the phone number.</span>\r\n          </div>      \r\n        </div>  \r\n      </b-modal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport apiurl from '../config/production';\r\nvar apival = apiurl();\r\nvar bunyan = require('bunyan');\r\nvar log = bunyan.createLogger({name: \"Enlist_App_PhoneVue\"});\r\nimport {bus} from '../main';\r\n\r\nexport default {\r\n  name: 'Phone',  \r\n  components: { \r\n  },\r\n  props: { \r\n      entityid:String,\r\n      lmsid:String,\r\n      typeid:Number,\r\n      ptypeof:String,\r\n      phonetypelbl:String,\r\n      phonenumber:String,\r\n      phoneareacodeid:String,\r\n      phoneprefixid:String,\r\n      phonesuffixid:String,\r\n      makeToast:Function,\r\n      runupdate:Boolean,\r\n      defaultphone:String,\r\n      ft:Boolean,\r\n      directload:Boolean,\r\n      containsSpecialCharacters:Function,\r\n  },\r\n  data() {\r\n    return {\r\n      phonenumberpropval:'',\r\n      phoneareacodepropval:'',\r\n      phoneprefixpropval:'',\r\n      phonesuffixpropval:'',\r\n      runupdatepropval:true,\r\n      isloaded:false\r\n    };\r\n  },\r\n  mounted:function(){    \r\n    bus.$on('setphone', this.setphone);\r\n    bus.$on('setphones', this.setphones);\r\n    bus.$on('submitsave', this.submit);\r\n  },  \r\n  computed: {\r\n    phonestate:  function() {     \r\n      var isEmpty =  (this.phoneareacodepropval.length == 0 && this.phoneprefixprop.length == 0 && this.phonesuffixprop.length == 0);\r\n      var chkstate = isEmpty ||\r\n        (this.phoneareacodepropval.length == 3 && this.phoneprefixprop.length == 3 && this.phonesuffixprop.length == 4);\r\n      if(chkstate && ! isEmpty) {\r\n        chkstate = !isNaN(this.phoneareacodepropval) && !isNaN(this.phoneprefixprop) && !isNaN(this.phonesuffixprop);        \r\n      }\r\n      if (typeof this.containsSpecialCharacters === \"function\") { \r\n        if(chkstate) {\r\n          chkstate = !this.containsSpecialCharacters(this.phoneareacodepropval);\r\n        }\r\n        if(chkstate) {\r\n          chkstate = !this.containsSpecialCharacters(this.phoneprefixprop);\r\n        }\r\n        if(chkstate) {\r\n          chkstate = !this.containsSpecialCharacters(this.phonesuffixprop);\r\n        }\r\n      }\r\n      return chkstate;     \r\n    },\r\n    phoneareacodeprop:  {      \r\n      get: function() {\r\n        var self = this;\r\n        if(!self.isloaded){\r\n            self.phoneareacodepropval = this.phonenumberareacodecomp;\r\n        }\r\n        return self.phoneareacodepropval.trim();\r\n      },\r\n      set: function(newValue) {\r\n        this.phoneareacodepropval = newValue;\r\n      }      \r\n    },\r\n    phoneprefixprop:  {      \r\n      get: function() {\r\n        var self = this;\r\n        if(!self.isloaded){\r\n            self.phoneprefixpropval = this.phonenumberprefixcomp;\r\n        }\r\n        return self.phoneprefixpropval.trim();\r\n      },\r\n      set: function(newValue) {\r\n        this.phoneprefixpropval = newValue;\r\n      }      \r\n    },\r\n    phonesuffixprop:  {      \r\n      get: function() {\r\n        var self = this;\r\n        if(!self.isloaded){\r\n            self.phonesuffixpropval = this.phonenumbersuffixcomp;\r\n        }\r\n        return self.phonesuffixpropval.trim();\r\n      },\r\n      set: function(newValue) {\r\n        this.phonesuffixpropval = newValue;\r\n      }      \r\n    },  \r\n    phonenumberprop:  {      \r\n      get: function() {\r\n        //if(this.directload){\r\n          //if(this.phonenumber) {\r\n          //this.phonenumberpropval = this.phonenumber;\r\n          //}\r\n        //}\r\n        return this.phonenumberpropval;\r\n      },\r\n      set: function(newValue) {\r\n        this.phonenumberpropval = newValue;\r\n      }      \r\n    },    \r\n    phonenumberareacodecomp: function(){\r\n        if(this.phonenumberprop){\r\n          if(this.phonenumberprop.length > 0) {\r\n            var spltArry = this.phonenumberprop.split(\"/\");\r\n            if(spltArry.length > 0){\r\n              return spltArry[0].toString();\r\n            }\r\n          }  \r\n        }\r\n        return '';\r\n    },\r\n    phonenumberprefixcomp: function(){\r\n        if(this.phonenumberprop){\r\n          if(this.phonenumberprop.length > 0) {\r\n            var spltArry = this.phonenumberprop.split(\"/\");\r\n            if(spltArry.length > 1){\r\n              var chkArry = spltArry[1].split(\"-\");\r\n               if(spltArry.length > 0){\r\n                return chkArry[0].toString();\r\n               }\r\n            }\r\n          }  \r\n        }\r\n        return '';\r\n    },\r\n    phonenumbersuffixcomp: function(){\r\n      if(this.phonenumberprop){\r\n        if(this.phonenumberprop.length > 0) {\r\n          var spltArry = this.phonenumberprop.split(\"/\");\r\n          if(spltArry.length > 1){\r\n            var chkArry = spltArry[1].split(\"-\");\r\n              if(spltArry.length > 1){\r\n              return chkArry[1].toString();\r\n              }\r\n          }\r\n        }  \r\n      }\r\n      return '';\r\n    },\r\n    runupdateprop: {      \r\n      get: function() {\r\n        var self = this;\r\n        self.runupdatepropval = this.runupdate;   \r\n        return self.runupdatepropval;\r\n      },\r\n      set: function(newValue) {\r\n        this.runupdatepropval = newValue;\r\n      }      \r\n    },\r\n  },\r\n  methods:{\r\n    setphone: function(phonenumb, ptype){\r\n      var self = this;\r\n      if(self.ptypeof == ptype){\r\n        self.isloaded = false;\r\n        self.phonenumberprop = phonenumb;        \r\n          setTimeout(function() {  \r\n            self.isloaded = true;\r\n          }, 1500);   \r\n      }\r\n    },\r\n    setphones: function(phonenumbs){\r\n      var self = this;\r\n      self.isloaded = false;\r\n      phonenumbs.forEach(pnum => {\r\n        if(pnum.PHONE_TYPE.trim() == self.ptypeof) {\r\n          self.phonenumberprop = pnum.PHONE.trim();\r\n        }\r\n      });\r\n      \r\n        setTimeout(function() {  \r\n          self.isloaded = true;\r\n        }, 1500);   \r\n    },\r\n    submit: function(){   \r\n      if(this.runupdateprop == true){\r\n        var self = this;  \r\n         if(self.phonestate) { \r\n            var phn = self.phoneareacodeprop + '/' + self.phoneprefixprop + '-' + self.phonesuffixprop;\r\n            if(phn.length == 12) {\r\n              var jsonvals = JSON.stringify({\r\n                data: {\r\n                  'lmsid':self.lmsid,     \r\n                  'typeofphone':self.ptypeof,\r\n                  'phonenumber':phn,\r\n                }\r\n              });\r\n              fetch(apival+'enlistapi/updatephonedata', {\r\n                  method: 'Post',\r\n                  credentials: 'include',\r\n                  body:jsonvals,\r\n                  headers:{\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                  }\r\n              }).then(function(response) {\r\n                return response.json();\r\n              }).then(function(jsonret) {          \r\n                var resu = jsonret.data;\r\n                if(resu == 'SUCCESS'){\r\n                  self.runupdateprop = false;        \r\n                }\r\n              }).catch(function(err) {\r\n                  log.error('enlistapi/updatephonedata'+err); \r\n              });      \r\n            }\r\n      } else {                \r\n          this.makeToast(this.camelize(this.typeofemail) + ' Phone', 'Please correct any errors identified on '+ this.typeofphone + ' phone to save the data.', \"danger\");\r\n        //self.$bvModal.show(\"bv-modal-phone-error\"+self.typeid);\r\n      }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.phoneboxseperator{float: left;}\r\n.phoneboxsmall{float: left;width:70px;}\r\n.phoneboxlarge{float: left;width:80px;}\r\n</style>"]}]}